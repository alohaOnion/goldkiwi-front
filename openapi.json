{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/auth/signup":{"post":{"description":"새로운 사용자를 등록합니다. username과 email은 고유해야 합니다.","operationId":"AuthController_signup","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignupDto"}}}},"responses":{"201":{"description":""}},"summary":"회원 가입","tags":["auth"]}},"/auth/login":{"post":{"description":"email 또는 username과 password로 인증 후 액세스/리프레시 토큰 발급. clientId/clientSecret 검증 필요. 토큰은 쿠키에 자동 설정됩니다.","operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"201":{"description":""}},"summary":"로그인","tags":["auth"]}},"/auth/token":{"post":{"description":"clientId/clientSecret 검증 후 userId로 사용자 조회하여 액세스/리프레시 토큰 발급 (쿠키·클라이언트 검증용)","operationId":"AuthController_issueToken","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IssueTokenDto"}}}},"responses":{"201":{"description":""}},"summary":"토큰 발급","tags":["auth"]}},"/auth/refresh":{"post":{"description":"리프레시 토큰: body 또는 쿠키(refreshToken). clientId/clientSecret 검증 후 새 쌍 발급.","operationId":"AuthController_refresh","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenDto"}}}},"responses":{"201":{"description":""}},"summary":"토큰 갱신","tags":["auth"]}},"/auth/revoke":{"post":{"description":"리프레시 토큰: body 또는 쿠키(refreshToken). clientId/clientSecret 검증 후 무효화.","operationId":"AuthController_revoke","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenDto"}}}},"responses":{"201":{"description":""}},"summary":"리프레시 토큰 무효화","tags":["auth"]}},"/auth/logout":{"post":{"description":"리프레시 토큰 무효화 후 accessToken/refreshToken 쿠키 삭제. clientId/clientSecret 필요.","operationId":"AuthController_logout","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenDto"}}}},"responses":{"201":{"description":""}},"summary":"로그아웃","tags":["auth"]}},"/auth/me":{"post":{"description":"액세스 토큰: 쿠키(accessToken) 또는 Authorization Bearer. public.key로 검증 후 payload 반환.","operationId":"AuthController_me","parameters":[],"responses":{"201":{"description":""}},"summary":"현재 사용자","tags":["auth"]}},"/auth/google":{"get":{"description":"Google 로그인 페이지로 리디렉트","operationId":"AuthController_googleAuth","parameters":[],"responses":{"200":{"description":""}},"summary":"Google OAuth 시작","tags":["auth"]}},"/auth/google/callback":{"get":{"description":"Google 인증 후 토큰 발급, 쿠키 설정, 프론트엔드로 리디렉트","operationId":"AuthController_googleAuthCallback","parameters":[],"responses":{"200":{"description":""}},"summary":"Google OAuth 콜백","tags":["auth"]}}},"info":{"title":"GoldKiwi Auth API","description":"인증 API 문서","version":"1.0","contact":{}},"tags":[{"name":"auth","description":""}],"servers":[],"components":{"schemas":{"SignupDto":{"type":"object","properties":{"username":{"type":"string","description":"사용자명 (고유)","example":"johndoe"},"email":{"type":"string","description":"이메일 (고유)","example":"john@example.com"},"password":{"type":"string","description":"비밀번호 (최소 8자)","example":"password123"},"name":{"type":"string","description":"이름","example":"John Doe"}},"required":["username","email","password","name"]},"LoginDto":{"type":"object","properties":{"clientId":{"type":"string","description":"클라이언트 ID (Client.clientId)"},"clientSecret":{"type":"string","description":"클라이언트 시크릿 (Client.clientSecret)"},"email":{"type":"string","description":"이메일 (username이 없을 경우 필수)","example":"john@example.com"},"username":{"type":"string","description":"사용자명 (email이 없을 경우 필수)","example":"johndoe"},"password":{"type":"string","description":"비밀번호","example":"password123"}},"required":["clientId","clientSecret","password"]},"IssueTokenDto":{"type":"object","properties":{"clientId":{"type":"string","description":"클라이언트 ID (Client.clientId)"},"clientSecret":{"type":"string","description":"클라이언트 시크릿 (Client.clientSecret)"},"userId":{"type":"string","description":"토큰 발급 대상 사용자 ID"}},"required":["clientId","clientSecret","userId"]},"RefreshTokenDto":{"type":"object","properties":{"clientId":{"type":"string","description":"클라이언트 ID (Client.clientId)"},"clientSecret":{"type":"string","description":"클라이언트 시크릿 (Client.clientSecret)"},"refreshToken":{"type":"string","description":"리프레시 토큰. 없으면 쿠키 refreshToken 사용 (cookie-parser)"}},"required":["clientId","clientSecret"]}}}}}
